# GlassesValidator
Tool for automatic determination of accuracy of wearable eye tracker recordings.

Full release expected to be released in Q4 2022. Currently, the poster to be used during recordings for validation is released in the repository.

# The poster
The default poster is available [here](/markerBoard/board.pdf). It should be printed at A2 size, as defined in the pdf file, and is designed to cover a reasonable field of view when participants view it at armslength.

## Customizing the poster
The poster pdf file is generated by the [LaTeX file in the same folder as the pdf](/markerBoard/board.tex). Its looks are defined in the files in the [config folder](/config). Specifically, the files [`markerPositions.csv`](/config/markerPositions.csv) and the files [`targetPositions.csv`](/config/targetPositions.csv) define where the ArUco markers and gaze targets are placed on the poster. Each coordinate in these files is for the center of the marker or gaze target and the origin (0,0) is in the bottom left of the poster. The [configuration file](/config/validationSetup.txt) contains the following settings for the poster:

|setting|description|
| --- | --- |
|`distance`|viewing distance in cm, used to convert coordinates and sizes in degrees to cm. Only used when `mode` is `cm`.|
|`mode`|`cm` or `deg`. Sets the unit for the `markerSide` and `targetDiameter` below as well as for interpreting the coordinates in the marker and target position files.|
|`markerSide`|Size of ArUco markers. In cm or deg, see `mode` setting.|
|`markerPosFile`|File in the config folder where the markers to draw are specified, e.g. `markerPositions.csv`.|
|`targetPosFile`|File in the config folder where the targets to draw are specified, e.g. `targetPositions.csv`.|
|`targetType`|Type of targer to draw, can be `Tobii` (the calibration marker used by Tobii) or `Thaler` (layout ABC in the lower panel of Fig. 1 in [Thaler et al., 2013](https://doi.org/10.1016/j.visres.2012.10.012)).|
|`targetDiameter`|Diameter of the gaze target. In cm or deg, see `mode` setting. Ignored if `targetType` is `Tobii` and `useExactTobiiSize` is `1`.|
|`useExactTobiiSize`|`0` or `1`. If `1`, the gaze targets have the exact dimensions of a Tobii calibration marker (though possibly different colors). I.e., the `targetDiameter` parameter is ignored. Only used if `targetType` is `Tobii`.|
|`showGrid`|`0` or `1`. If `1`, a `gridCols` x `gridRows` grid is drawn behind the markers and gaze targets. The size of each grid cell is 1 cm if `mode` is cm, or 1 degree if `mode` is `deg`.|
|`gridCols`|Number of grid columns to draw if `showGrid` is `1`.|
|`gridRows`|Number of grid rows to draw if `showGrid` is `1`.|
|`showAnnotations`|`0` or `1`. If `1`, text annotations informing about the size of grid cells () and markers is printed on the poster below the marker arrangement.|

## Steps for making your own poster.
1. Edit the [configuration](/config/validationSetup.txt), [`markerPositions.csv`](/config/markerPositions.csv) and [`targetPositions.csv`](/config/targetPositions.csv) files in the [config folder](/config) to design the layout and look of the poster that you want.
2. Run the [getMarkerImages.py Python script](/markerBoard/getMarkerImages.py) to generate the used ArUco markers.
3. Compile the [LaTeX file](/markerBoard/board.tex) with pdfTex, such as provided in the TeX Live distribution.
4. Done, you should now have a pdf file with the poster as you defined.
